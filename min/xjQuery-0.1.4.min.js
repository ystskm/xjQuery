/*!
 * xjQuery JavaScript Library v0.1.4 rev.8969
 *
 * Copyright 2013 Yoshitaka Sakamoto <brilliantpenguin@gmail.com>
 * Released under the MIT license
 * http://github.com/ystskm/xjQuery/blob/master/LICENSE.md
 *
 * Date: 2013-08-05 15:33:28
 */window.xjQuery&&window.xjQuery.version||function(n,g){var t="function"==typeof n.debug?n.debug("xjQuery"):function(){},s=Date.now();n.lapTimer=function(g){var j=Date.now();console.log(g+":"+(s-j));s=j};var m=g({}),f=null,f=function(){if(this instanceof f)return this;if("string"==typeof arguments[0]){if("function"==typeof arguments[1]){for(var k=arguments[0].split(" "),j=arguments[1],l=[],a=0;a<k.length;a++)if(!f.data("readystatus",k[a])){var c=new g.Deferred;f.one("ready",k[a],function(a){return function(){a.resolve()}}(c));
l.push(c)}return g.when.apply(g,l).done(j)}for(k=arguments[0].replace(/\r\n|\r|\n/g,"");~(j=k.indexOf("<\!--"));)k=k.substr(0,j)+k.substr(k.indexOf("--\>")+3);return g(k.replace(/>\s+</g,"><"))}if("function"==typeof arguments[0]&&"undefined"!=typeof foonyah)return foonyah.isStarted()?arguments[0]():g(n).one(foonyah.internalEventName("load"),arguments[0])},l=function(g,j){return f(g,j)},m={_xjpath:"/xjQuery",_xjstat:{readystatus:"ready"},version:"0.1.4",release:"2013-08-05 15:33:28",workon:"undefined"==
typeof global?"Browser":"Node",data:function(k,j,f){var a=g(this.data_target),c=a.data(this.dataName(k));c||a.data(this.dataName(k),c={});return f?c[j]=f:c[j]},dataName:function(g){return"xjquery"+this._xjstat[g]},data_target:m,bind:function(k,j,f){g(this.event_target).bind(this.eventName(k,j),f)},one:function(k,j,f){g(this.event_target).one(this.eventName(k,j),f)},trigger:function(k,j,f){g(this.event_target).trigger(this.eventName(k,j),f||[])},eventName:function(g,f){return g+"eventofxjQuery"+f},
event_target:m,triggerReady:function(g){this.data("readystatus",g,"ready");this.trigger("ready",g)}},o=function(g){return function(){return g}},u=function(){return function(){console.error("forbidden action.");return!1}};if(f.__defineGetter__&&f.__defineSetter__)for(var q in m)f.__defineGetter__(q,o(m[q])),f.__defineSetter__(q,u());else for(q in m)f[q]=m[q];n.xjQuery=g.extend(f,{add:function(k,j){t("xjQuery."+k+" will be extend.");f[k]=j;g.isFunction(j)?l[k]=j:g.extend(l,j)},extend:function(f,j,l,
a){null==a&&(a=l,l=!0);f[j]?g.extend(!0,f[j],a):f[j]=a;null!=l&&(!0===l?g.extend(!0,n.$xj,a):g.extend(!0,l,a))}});n.$xj=g.extend(l,n.xjQuery)}(window,window.jQuery);
(function(n,g){function t(a,c){var b=(c||l.JSCSS.Browser).toLowerCase(),d=null,a=g.extend(!0,{},a);Object.keys(a).forEach(function(b){/[A-Z]/.test(b)&&(a[b.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})]=a[b],delete a[b])});(d=a.opacity)&&g.extend(a,{filter:"alpha(opacity="+100*parseFloat(d)+")","-moz-opacity":d});g.each("box-shadow,border-radius,border-top-left-radius,border-top-right-radius,border-bottom-left-radius,border-bottom-rigth-radius,user-select".split(","),function(b,c){if(d=
a[c]){var e={};e["-webkit-"+c]=e["-moz-"+c]=d;g.extend(a,e)}});d=a.display;"flex"==d&&("chrome"==b||"safari"==b?a.display=a["-webkit-display"]="-webkit-flex":"firefox"==b&&(a.display=a["background-moz"]="-moz-flex"));g.each("flex,justify-content,align-items,align-content,flex-direction,flex-wrap,flex-basis".split(","),function(b,c){if(d=a[c]){var e={};e["-webkit-"+c]=e["-moz-"+c]=d;e["-ms-"+c]=e["-o-"+c]=d;g.extend(a,e)}});(d=a.transition)&&g.extend(a,{"-webkit-transition":d,"-moz-transition":d,"-ms-transition":d,
"-o-transition":d});(d=a.transform)&&g.extend(a,{"-webkit-transform":d,"-moz-transform":d});if((d=a.background)&&"gradient("==d.slice(0,9)){var e=d.slice(9).replace(/\)$/,"");if(e){delete a.background;var e=e.replace(/(rgba?\()([\d\s]+),([\d\s]+),(([\d\s]+),)?([\d\s\.]+)(\))/g,function(){var a=arguments;return a[1]+a[2]+"-"+a[3]+"-"+(5<a.length?a[5]+"-"+a[6]:a[5])+")"}),e=e.split(",").map(function(a){return g.trim(a)}),i,r=e[0],h="",p="",f="",j=4,k=[],m="",m=e[e.length-1];if("linear"==r)h=e[1].split(" "),
p=e[2].split(" "),f=e[3];else if("radial"==r){i=e[1].slice(0,6);if("circle"==i||"ellips"==i)e[1].split(" "),j=5;h=e[j-3].split(" ");p=e[j-2].split(" ");f=e[j-1]}i=[];i.push(r);i.push(h.slice(0,2).join(" "));"radial"==r&&i.push(h.slice(2,3).toString());i.push(p.slice(0,2).join(" "));"radial"==r&&i.push(p.slice(2,3).toString());i.push("from("+o.codeAdjust(f)+")");for(h=j;h<e.length-1;h++)p=e[h].indexOf(" "),i.push("color-stop("+e[h].substr(0,p)+","+o.codeAdjust(e[h].substr(p+1))+")");i.push("to("+o.codeAdjust(m)+
")");a["background-webkit"]="-webkit-gradient("+i.toString()+")";i=[];h=e[1].split(" ");p=e[2].split(" ");j=h[0]==p[0]?h[1]:h[1]==p[1]?h[0]:e[1];f=e[3];for(h=4;h<e.length-1;h++)p=e[h].indexOf(" "),k.push([o.codeAdjust(e[h].substr(p+1))," ",100*e[h].substr(0,p),"%"].join(""));m=e[e.length-1];i.push(j);i.push(o.codeAdjust(f));k.length&&i.push(k.join());i.push(o.codeAdjust(m));a["background-moz"]="-moz-"+r+"-gradient("+i.join()+")";i=[];h=e[1].split(" ");p=e[2].split(" ");j=null;j=h[0]==p[0]?h[1]:h[1]==
p[1]?h[0]:e[1];f=e[3];for(h=4;h<e.length-1;h++)r=e[h].split(" "),k.push([r[1]," ",100*r[0],"%"].join(""));m=e[e.length-1];i.push(f);i.push(m);i=[];f=l.JSCSS.codeAdjust(e[3]);m=l.JSCSS.codeAdjust(e[e.length-1]);i.push("GradientType=0");i.push(["startColorstr=",f].join(""));i.push(["endColorstr=",m].join(""));a.filter=["progid:DXImageTransform.Microsoft.gradient(",i.join(),")"].join("");"chrome"==b||"safari"==b?a.background=a["background-webkit"]:"firefox"==b&&(a.background=a["background-moz"])}}return a}
function s(a){if("rgb"==a.substr(0,3))return a.replace(/-/g,",");a=g.trim(a);if(!/^#[0-9A-Fa-f]{3}$|^#[0-9A-Fa-f]{6}|^[A-Za-z]+$/.test(a))throw Error(" - illegal color code.(code = <"+a+">)");4==a.length&&(a="#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]);return a}function m(a){return Array.prototype.slice.call(a)}var f=function(a,c){var b="undefined"!=typeof foonyah&&!0===foonyah.ShowMessages?!0:!1;null==c&&(c="log");if("string"==typeof c){if("log"==c&&!0!==b)return;c=console[c]}c.call(this===n||this===global?
console:this,"xjQuery message : "+a)},l=n.xjQuery,o=n.$xj,u=0,q=null;o.add("ComUtil",{getId:function(){var a=Date.now();a!=q&&(u=0,q=a);return a+""+u++},uaAnalyze:function(a,c){var c=g.extend({Chrome:10,Safari:4,Firefox:4,MSIE:9,Opera:9},c),b=null,d=null,e=null,i=null,f=null,h=null;if(b=a.match(/(Opera[\s\/]\d+\.\d{1,2})/))d="Opera";else if(b=a.match(/(MSIE[\s\/]\d+\.\d{1,2})/))d="MSIE";else if(b=a.match(/(Firefox[\s\/]\d+\.\d)/))d="Firefox";else if(b=a.match(/(Chrome[\s\/]\d+\.\d)/))d="Chrome";else if(/Safari/.test(a))if(d=
"Safari",b=a.match(/(Version[\s\/]\d+\.\d)/))e=b[1].slice(8);else if(/AppleWebKit[\s\/]4\d{2}/.test(a))e=2;else{if((b=a.match(/\d?(\d{3})\./))&&533<parseInt(b[1]))e=5}else(b=a.match(/(Sleipnir[\s\/]\d\.\d)/))?d="Sleipnir":(b=a.match(/(Konqueror[\s\/]\d\.\d)/))?d="Konqueror":/Netscape/.test()?(d="Netscape",(b=a.match(/(Netscape\d)/))?e=b[1].slice(d.length):b=a.match(/(Netscape[\s\/]\d\.\d{1,2})/)):(b=a.match(/(DoCoMo[\s\/]\d+\.\d)/))?(d="DoCoMo",h="cellular"):(b=a.match(/KDDI/))?(d="KDDI",h="cellular"):
(b=a.match(/(J-PHONE[\s\/]\d+\.\d)/))?(d="J-PHONE",h="cellular"):(b=a.match(/(SoftBank[\s\/]\d+\.\d)/))?(d="SoftBank",h="cellular"):(b=a.match(/(Mozilla[\s\/]\d+\.\d)/))?d="Mozilla":/Node\.js/.test(a)&&(d="Node.js v8",e="TODO");d||(d="Other");e||(b?e=b[1].slice(d.length+1):console.log("Unrecognized browser version: "+a));if(/Linux/.test(a)){if(i="Linux",b=a.match(/Android (\d\.\d)/))i="Android",f=b[1],h="mobile"}else if(/Android;/i.test(a))i="Android";else if(/BSD/.test(a))i=/FreeBSD/.test(a)?"FreeBSD":
"BSD";else if(/SunOS/.test(a)){i="SunOS";if(b=a.match(/(SunOS[\s\/]\d\.\d)/))f=b[1].slice(i.length+1,i.length+4);i="Solaris"}else if(/Win[dN9][oT58]/.test(a))i="Windows",/Windows NT 5.0/.test(a)?f="2000":/Windows 2000/.test(a)?f="2000":/Windows NT 5.1/.test(a)?f="XP":/Windows NT 5.2/.test(a)?f="2003":/Windows XP/.test(a)?f="XP":/Windows NT 6.0/.test(a)?f="Vista":/Windows NT 6.1/.test(a)?f="7":/Windows 98/.test(a)?f="98":/Windows 95/.test(a)?f="95":/Windows Me/.test(a)?f="Me":/Windows NT/.test(a)?
f="NT":/Win95/.test(a)?f="95":/Win98/.test(a)?f="98":/WinNT/.test(a)&&(f="NT");else if(/Mac/.test(a))/iPod/.test(a)?(i="iPod",h="mobile"):(b=a.match(/iPhone[^\d]+((\d+_?){1,3})/))?(i="iPhone",f=b[1].replace(/_/g,"."),h="mobile"):(b=a.match(/iPad[^\d]+((\d+_?){1,3})/))?(i="iPad",f=b[1].replace(/_/g,"."),h="tablet"):(b=a.match(/Mac OS[^\d]+((\d+_?){1,3})/))?(i="MacOS",f=b[1].replace(/_/g,".")):i="MacOS";else if(/Nintendo/.test(a))i="Nintendo";else if(/PlayStation/.test(a))i="PlayStation";else if(/DreamPassport/.test(a))i=
"DreamPassport";else if(b=a.match(/Node\.js \(([^;]+);.+rv:v(\d+.\d+.\d+)/))i=b[1],f=b[2];"tablet"!=h&&/Mobile/.test(a)&&(h="mobile");return{Browser:d,BrowserVersion:e,OS:i,OSVersion:f,Device:h||"laptop",Compatibility:c[d]&&e>=c[d],UserAgent:a}}});o.add("CLASS",{Constants:{initKey:"initKey",initialize:"initialize",definition:"classDefinition"},makeClass:function(a,c){g.extend(l.CLASS.Constants,c);var b=a[l.CLASS.Constants.initKey]||l.CLASS.Constants.initialize,d=a[b]||function(){};d.prototype=new l.CLASS.makeClass.fn.init(a);
for(var e in a)e!=b&&(d.prototype[e]=a[e]);return d}});l.CLASS.makeClass.fn=l.CLASS.makeClass.prototype={init:function(a){this[l.CLASS.Constants.definition]=a}};var k={initialize:function(){this._emitter=new foonyah.Emitter;this._mystart=!1;this._position=0;this._actors=[];this._witharg=[];this._unstop=!1;this.push.apply(this,m(arguments))},nextTick:"undefined"!=typeof process&&process.nextTick?process.nextTick:function(a){setTimeout(a,0)},unstopping:function(a){this._unstop=!0===a;return this},withArg:function(){this._witharg=
this._witharg.concat(m(arguments));return this},push:function(){var a=m(arguments);if(this.unstop)for(var c=0;c<a.length;c++)this._next_unstop(a[c]);else for(c=0;c<a.length;c++)this._next(a[c]);return this},start:function(){this._mystart=!0;0!=this._actors.length&&(this._actors[this._position].apply(this,m(arguments)),this.trigger("start"))},length:function(){return this._actors.length},isStarted:function(){return!0===this._mystart},isEnded:function(){return!0===this._mystart&&(0==this._actors.length||
this._position==this._actors.length-1)},_next:function(a){var c=this;this._actors.push(function(){var b=m(arguments);0==b.length&&(b=[null]);var d=b.shift();a.apply(c,[d].concat(c._witharg).concat(b).concat(c._callback()))})},_next_unstop:function(a){var c=this;this._actors.push(function(){var b=m(arguments);0==b.length&&(b=[null]);var d=b.shift();a.apply(c,[d].concat(c._witharg).concat(b).concat(c._callback_unstop()))})},_callback:function(){var a=this;return function(c){var b=m(arguments);if(c)return a._error.apply(a,
b);a.nextTick(a._execNextFn(b))}},_callback_unstop:function(){var a=this;return function(c){var b=m(arguments);a.nextTick(a._execNextFn(b))}},_execNextFn:function(a){var c=this;0==a.length&&(a=[null]);return function(){try{if(c._actors[++c._position])return c._actors[c._position].apply(c,a);if(c._actors.length==c._position)return c.trigger("end");("undefined"==typeof foonyah?console.log:foonyah.log)("Duplicate next() call may occurs somewhere in $xj.Chain.")}catch(b){return a=m(a),a.shift(),a.unshift(b),
c._error.apply(c,a)}}},_error:function(a){var c=m(arguments),b=null,d=this._actors.length-1;this._position<d&&(b=this._actors[d]);if("function"==typeof b)return b.apply(this,c);if(a instanceof Error)throw a;throw Error(a);}};(function(a,c){"bind,unbind,on,one,off,trigger".split(",").forEach(function(b){c[b]=function(c){this._emitter[b](l.eventName(c,a))}})})("Chain",k);o.add("Chain",l.CLASS.makeClass(k));o.add("when",function(a){function c(a){return a?a&&a.state?a:(new g.Deferred).resolve(a):(new g.Deferred).reject(a)}
return g.when.apply(g,g.isArray(a)?a.map(c):[c(a)])});o.add("require",l.CLASS.makeClass({constant:function(a){return{ManageKey:"requre-",StorageKey:"require"}[a]},initialize:function(a,c,b){function d(a){var b=e.constant("ManageKey").length;return a.slice(0,b)==e.constant("ManageKey")}"function"==typeof c&&(b=c,c={});if(!(this instanceof l.require))return(new l.require(c)).next(a).start(b);g.isPlainObject(a)||(a={});var e=this;this.options=g.extend({removeOnLoad:!0,evalMode:!1,packageName:this.constant("StorageKey"),
versionKey:null},c);this.chain=new o.Chain;this.finish=g.isFunction(this.options.finish)?this.options.finish:function(){};if(!d(this.options.packageName))this.options.packageName=[this.constant("ManageKey"),this.options.packageName].join("");if(this.options.versionKey){this.codeUpdate=!1;try{this.options.srcManager=JSON.parse(localStorage.getItem(this.options.packageName).replace(/\\"/g,'"'))}catch(f){}try{if(!this.options.srcManager){for(var j in localStorage)d(j)&&localStorage.removeItem(j);this.options.srcManager=
{}}this.options.versionString=[this.options.packageName,"-",c.versionKey].join("")}catch(h){}}else try{for(j=0;j<localStorage.length;j++){var p=localStorage.key(j);RegExp(this.options.packageName).test(p)&&localStorage.removeItem(p)}this.options.srcManager={}}catch(k){}return this},start:function(a){this.chain.push(a||this.finish).start()},next:function(){for(var a=[],c=g.isArray(arguments[0])?arguments[0]:m(arguments),b=0;b<c.length;b++)"string"==typeof c[b]&&(a=a.concat(c[b].split(/\s/)));if(a.length){for(var c=
[],d=[],b=0;b<a.length;b++)d.push(new g.Deferred),c.push(this.assign(a[b],d[b]));this.chain.push(this._listenFn(c,g.when.apply(g,d)))}return this},_listenFn:function(a,c){var b=this;return function(d,e){c.done(function(){try{localStorage.setItem(b.options.packageName,JSON.stringify(b.options.srcManager))}catch(a){}e(d)}).fail(function(a){f("Phase on require:_fail()","error");for(var b in a){var c=a[b];c instanceof Error?(f(c.message,"error"),c.stack&&f(c.stack,"error")):g.isPlaneObject(c)?f(JSON.stringify(c)):
f(c,"error")}});for(var i=0;i<a.length;i++)setTimeout(a[i],0)}},assign:function(a,c){var b=this;switch(typeof a){case "string":return function(){b.load(a,function(b){f(a+" is Loaded."+(!0===b?"(timeout message)":""));c.resolve()},function(){f("fail to load script : "+a,"error");c.resolve()})};case "function":return function(b){try{a.call(),b.resolve()}catch(c){b.reject()}}}},load:function(a,c,b){function d(b){var c=location.protocol,d=location.host,h=location.port||(/^http:/.test(c)?80:443),l=null,
m=(l=a.match(/(^https?:)/))?l[1]:c,n=(l=a.match(/\/\/([^\/]+)\//))?l[1]:d,o=(l=n.match(/:(\d+)$/))?l[1]:/^http:/.test(m)?80:443;k.evalMode&&c==m&&d==n&&h==o?b?i(b):g.ajax({type:"get",url:a,dataType:"text",success:e}):(k.evalMode&&f("xjQuery Notice: "+a+" is read by tag."),j())}function e(a){i(a)}function i(b){var e=!1;l[a]=n;localStorage.setItem([n,".",a].join(""),b);try{g.globalEval(b)}catch(d){e=!0,f("Error from JSLoader : misssing eval. src = "+a)}e?j():(c||g.noop)()}function j(){var e=k.append||
document.body||document.documentElement,d=document.createElement("script");d.src=a;d.type=k.type?k.type:"text/javascript";d.onload=function(){!0===m&&e.removeChild(d);c.apply(this,arguments)};d.onerror=function(){!0===m&&e.removeChild(d);b.apply(this,arguments)};if(k.charset)d.charset=k.charset;if(document.all)d.onreadystatechange=function(){switch(d.readyState){case "complete":case "loaded":d.onload();break;case "error":d.onerror()}};e.appendChild(d)}var h;h=null;var k=this.options,l=k.srcManager,
m=k.removeOnLoad,o=k.packageName,n=k.versionString,o=null;if(o=a.match(/\.-([\w\.-]+)-pkg/))o=o[1],a=a.replace(/\.-([\w\.-]+)-pkg/,""),n=n.replace(/^\w+-/,[o,"-"].join(""));(o=a.match(/\.-([\w\.-]+)-ver/))?(n=o[1],a=a.replace(/\.-([\w\.-]+)-ver/,""),n=n.replace(/-\w+$/,["-",n].join(""))):/\.no-version/.test(a)&&(a=a.replace(/\.no-version/,""),h=!0);if(!h&&n)if(h=[n,".",a].join(""),h=localStorage.getItem(h))f(a+" is found on localStorage!"),d(h);else{if(h=l[a])localStorage.removeItem([h,".",a].join("")),
f(a+" is deleted from localStorage.");d()}else d()}}));o.add("LAYOUT",{layCenter:function(a,c){function b(a,b){var c;try{c=a.css(b)}catch(d){}return!c||isNaN(aft=c.replace("px"))?a[b]():parseInt(aft)}var d=(b(a,"width")-b(c,"width"))/2,e=(b(a,"height")-b(c,"height"))/2;return{left:0<d?d:0,top:0<e?e:0}}});n.$xj.add("JSCSS",{crossCssAuto:function(a){"boolean"==typeof a&&(j=a);return j},crossCss:t,codeAdjust:s,codeToRgb:function(a){a=s(a).replace(/^#/,"");return[parseInt(a.slice(0,2),"16"),parseInt(a.slice(2,
4),"16"),parseInt(a.slice(4,6),"16")]}});var j=!0,k=o.uaAnalyze(n.navigator.userAgent);g.extend(l.JSCSS,k);g.extend(o,k);var v=g.fn.css;g.fn.css=function(){if(!1===j||"string"==typeof arguments[0]&&1==arguments.length)return v.apply(this,arguments);var a={};"string"==typeof arguments[0]?a[arguments[0]]=arguments[1]:a=arguments[0];return v.call(this,t(a))};if("undefined"==typeof WebSocket&&"undefined"!=typeof MozWebSocket)n.WebSocket=MozWebSocket})(window,window.$);
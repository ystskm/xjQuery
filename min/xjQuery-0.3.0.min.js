/*!
 * xjQuery JavaScript Library v0.3.0 rev.433
 *
 * Copyright 2013 Yoshitaka Sakamoto <brilliantpenguin@gmail.com>
 * Released under the MIT license
 * http://github.com/ystskm/xjQuery/blob/master/LICENSE.md
 *
 * Date: 2014-04-01 11:25:58
 */(function(q,o){function l(b,e){if(this instanceof l)return this;var c=b,a=typeof c;if("function"==typeof e&&("string"==a||Array.isArray(c))){"string"==a&&(c=c.split(" "));for(var a=[],g=0;g<c.length;g++)if(!l.data("readystatus",c[g])){var f=new d.Deferred;l.one("ready",c[g],function(e){return function(){e.resolve()}}(f));a.push(f)}return d.when.apply(d,a).done(e)}if("string"==a){for(c=c.replace(/\r\n|\r|\n/g,"");~(a=c.indexOf("<\!--"));)c=c.substr(0,a)+c.substr(c.indexOf("--\>")+3);return d(c.replace(/>\s+</g,
"><"))}if("function"==a&&j.foonyah)return foonyah.isStarted()?c():d(j).one(foonyah.internalEventName("load"),c)}function p(b,e){return l(b,e)}var j,d;if(!q||null==window.jQuery)return console.error("xjQuery cannot load in this environment.");j=window;d=j.jQuery;var n="function"==typeof j.debug?j.debug("xjQuery"):d.noop,h=d({});Date.now();l.watcher=function(){};var h={_xjpath:"/xjQuery",_xjstat:{readystatus:"ready"},version:"0.3.0",release:"2014-04-01 11:25:58",workon:"undefined"==typeof global?"Browser":
"Node",data_target:h,event_target:h,data:function(b,e,c){var a=d(this.data_target),g=a.data(this.dataName(b));!g&&a.data(this.dataName(b),g={});return c?g[e]=c:g[e]},dataName:function(b){return"xjquery"+this._xjstat[b]},bind:function(b,e,c){d(this.event_target).bind(this.eventName(b,e),c)},one:function(b,e,c){d(this.event_target).one(this.eventName(b,e),c)},trigger:function(b,e,c){d(this.event_target).trigger(this.eventName(b,e),c||[])},eventName:function(b,e){return b+"eventofxjQuery"+e},triggerReady:function(b){this.data("readystatus",
b,"ready");this.trigger("ready",b)}},a=function(b){return function(){return b}},b=function(){return function(){console.error("forbidden action.");return!1}},c;for(c in h)Object.defineProperty(l,c,{get:a(h[c]),set:b()});j.xjQuery=d.extend(l,{add:function(b,e){n("xjQuery."+b+" will be extend.");l[b]=e;d.isFunction(e)?p[b]=e:d.extend(p,e)},extend:function(b,e,c,a){null==a&&(a=c,c=!0);b[e]?d.extend(!0,b[e],a):b[e]=a;null!=c&&(!0===c?d.extend(!0,window.$xj,a):d.extend(!0,c,a))}});j.$xj=d.extend(p,j.xjQuery);
o&&(module.exports=j.$xj)})("undefined"!=typeof window,"undefined"!=typeof module);
(function(q){function o(d){return Array.prototype.slice.call(d)}var l,p;if(q&&window.xjQuery){l=window;q=l.xjQuery;p=l.$xj;var j=function(d,n){var h="undefined"!=typeof l.foonyah&&!0===foonyah.ShowMessages?!0:!1;null==n&&(n="log");"log"==n&&!0!==h||("string"==typeof n&&(n=console[n]),n.call(this===l||this===global?console:this,"xjQuery console : ",d))};(function(d,n,h){function a(){var b=Date.now();if(b!=a.now)a.cnt=0,a.now=b;return b+""+a.cnt++}h.add("ComUtil",{getId:a,uaAnalyze:function(b,c){var c=
d.extend({Chrome:10,Safari:4,Firefox:4,MSIE:9,Opera:9},c),a=null,e=null,h=null,k=null,g=null,f=null;if(a=b.match(/(Opera[\s\/]\d+\.\d{1,2})/))e="Opera";else if(a=b.match(/(MSIE[\s\/]\d+\.\d{1,2})/))e="MSIE";else if(a=b.match(/(Firefox[\s\/]\d+\.\d)/))e="Firefox";else if(a=b.match(/(Chrome[\s\/]\d+\.\d)/))e="Chrome";else if(/Safari/.test(b))if(e="Safari",a=b.match(/(Version[\s\/]\d+\.\d)/))h=a[1].slice(8);else if(/AppleWebKit[\s\/]4\d{2}/.test(b))h=2;else{if((a=b.match(/\d?(\d{3})\./))&&533<parseInt(a[1]))h=
5}else if(a=b.match(/(Sleipnir[\s\/]\d\.\d)/))e="Sleipnir";else if(a=b.match(/(Konqueror[\s\/]\d\.\d)/))e="Konqueror";else if(/Netscape/.test())e="Netscape",(a=b.match(/(Netscape\d)/))?h=a[1].slice(e.length):a=b.match(/(Netscape[\s\/]\d\.\d{1,2})/);else if(a=b.match(/(DoCoMo[\s\/]\d+\.\d)/))e="DoCoMo",f="cellular";else if(a=b.match(/KDDI/))e="KDDI",f="cellular";else if(a=b.match(/(J-PHONE[\s\/]\d+\.\d)/))e="J-PHONE",f="cellular";else if(a=b.match(/(SoftBank[\s\/]\d+\.\d)/))e="SoftBank",f="cellular";
else if(a=b.match(/(Mozilla[\s\/]\d+\.\d)/))e="Mozilla";else if(/Node\.js/.test(b))e="Node.js v8",h="TODO";else if(a=b.match(/(\s|^)([\w-]+bot[\w-]*)\/(\d+(\.\w+))(\s|;|$)/))e=a[2],h=a[3],f="robot";e||(e="Other");h||(a?h=a[1].slice(e.length+1):console.warn("Unrecognized browser version: "+b));if(/Linux/.test(b)){if(k="Linux",a=b.match(/Android (\d\.\d)/))k="Android",g=a[1],f="mobile"}else if(/Android;/i.test(b))k="Android";else if(/BSD/.test(b))k=/FreeBSD/.test(b)?"FreeBSD":"BSD";else if(/SunOS/.test(b)){k=
"SunOS";if(a=b.match(/(SunOS[\s\/]\d\.\d)/))g=a[1].slice(k.length+1,k.length+4);k="Solaris"}else if(/Win[dN9][oT58]/.test(b))k="Windows",/Windows NT 5.0/.test(b)?g="2000":/Windows 2000/.test(b)?g="2000":/Windows NT 5.1/.test(b)?g="XP":/Windows NT 5.2/.test(b)?g="2003":/Windows XP/.test(b)?g="XP":/Windows NT 6.0/.test(b)?g="Vista":/Windows NT 6.1/.test(b)?g="7":/Windows NT 6.2/.test(b)?g="8":/Windows 98/.test(b)?g="98":/Windows 95/.test(b)?g="95":/Windows Me/.test(b)?g="Me":/Windows NT/.test(b)?g=
"NT":/Win95/.test(b)?g="95":/Win98/.test(b)?g="98":/WinNT/.test(b)&&(g="NT");else if(/Mac/.test(b))/iPod/.test(b)?(k="iPod",f="mobile"):(a=b.match(/iPhone[^\d]+((\d+_?){1,3})/))?(k="iPhone",g=a[1].replace(/_/g,"."),f="mobile"):(a=b.match(/iPad[^\d]+((\d+_?){1,3})/))?(k="iPad",g=a[1].replace(/_/g,"."),f="tablet"):(a=b.match(/Mac OS[^\d]+((\d+_?){1,3})/))?(k="MacOS",g=a[1].replace(/_/g,".")):k="MacOS";else if(/Nintendo/.test(b))k="Nintendo";else if(/PlayStation/.test(b))k="PlayStation";else if(/DreamPassport/.test(b))k=
"DreamPassport";else if(a=b.match(/Node\.js \(([^;]+);.+rv:v(\d+.\d+.\d+)/))k=a[1],g=a[2];"tablet"!=f&&/Mobile/.test(b)&&(f="mobile");return{Browser:e,BrowserVersion:h,OS:k,OSVersion:g,Device:f||"laptop",Compatibility:c[e]&&h>=c[e],UserAgent:b}}})})($,q,p);(function(d,n,h){function a(c,t){var e=d.extend({},b,t),h=c[e.initKey]||e.initialize,k=c[h]||Function();k.prototype=new a.fn.init(e,c);for(var g in c)g!=h&&(k.prototype[g]=c[g]);return k}var b={initKey:"initKey",initialize:"initialize",definition:"classDefinition"};
h.add("CLASS",{makeClass:a});a.fn=a.prototype={init:function(b,a){this[b.definition]=a}}})($,q,p);(function(d,n,h){addEmitterAction("Chain",a);h.add("Chain",n.CLASS.makeClass(a));var a={initialize:function(){this._emitter=new foonyah.Emitter;this._mystart=!1;this._dfd=d.Deferred();this._position=0;this._actors=[];this._witharg=[];this._unstop=!1;this.push.apply(this,o(arguments))},nextTick:"function"==typeof setImmediate?function(b){setImmediate(b)}:function(b){setTimeout(b,0)},unstopping:function(b){this._unstop=
!0===b;return this},withArg:function(){this._witharg=this._witharg.concat(o(arguments));return this},push:function(){var b=o(arguments);if(this.unstop)for(var a=0;a<b.length;a++)this._next_unstop(b[a]);else for(a=0;a<b.length;a++)this._next(b[a]);return this},start:function(){this._mystart=!0;if(0==this._actors.length)return this._dfd.resolve().promise();this._actors[this._position].apply(this,o(arguments));this.trigger("start");return this._dfd.promise()},length:function(){return this._actors.length},
isStarted:function(){return!0===this._mystart},isEnded:function(){return!0===this._mystart&&(0==this._actors.length||this._position==this._actors.length-1)},_next:function(b){var a=this;this._actors.push(function(){var d=o(arguments);0==d.length&&(d=[null]);var e=d.shift();b.apply(a,[e].concat(a._witharg).concat(d).concat(a._callback()))})},_next_unstop:function(b){var a=this;this._actors.push(function(){var d=o(arguments);0==d.length&&(d=[null]);var e=d.shift();b.apply(a,[e].concat(a._witharg).concat(d).concat(a._callback_unstop()))})},
_callback:function(){var b=this;return function(a){var d=o(arguments);if(a)return b._error.apply(b,d);b.nextTick(b._execNextFn(d))}},_callback_unstop:function(){var b=this;return function(a){var d=o(arguments);b.nextTick(b._execNextFn(d))}},_execNextFn:function(b){var a=this;0==b.length&&(b=[null]);return function(){try{if(a._actors[++a._position])return a._actors[a._position].apply(a,b);if(a._actors.length==a._position)return this._actors=[],a.trigger("end"),a._dfd.resolve();("undefined"==typeof foonyah?
console.log:foonyah.log)("Duplicate next() call may occurs somewhere in $xj.Chain.")}catch(d){return b=o(b),b.shift(),b.unshift(d),a._error.apply(a,b)}}},_error:function(a){var c=o(arguments),d=null;this._dfd.reject(a);var e=this._actors.length-1;this._position<e&&(d=this._actors[e]);this._actors=[];if("function"==typeof d)return d.apply(this,c);if(a instanceof Error)throw a;throw Error(a);}}})($,q,p);(function(d,n,h){h.add("when",function(a){function b(a){return!a?d.Deferred().reject(a):a&&a.state?
a:d.Deferred().resolve(a)}return d.when.apply(d,d.isArray(a)?a.map(b):[b(a)])})})($,q,p);(function(d,n,h){h.add("require",n.CLASS.makeClass({constant:function(a){return{ManageKey:"requre-",StorageKey:"require"}[a]},initialize:function(a,b,c){function t(a){var b=e.constant("ManageKey").length;return a.slice(0,b)==e.constant("ManageKey")}"function"==typeof b&&(c=b,b={});if(!(this instanceof n.require))return(new n.require(b)).next(a).start(c);d.isPlainObject(a)||(a={});var e=this;this.options=d.extend({removeOnLoad:!0,
evalMode:!1,packageName:this.constant("StorageKey"),versionKey:null},b);this.chain=new h.Chain;this.finish=function(a,b){d.isFunction(e.options.finish)?e.options.finish(a,b):b()};if(!t(this.options.packageName))this.options.packageName=[this.constant("ManageKey"),this.options.packageName].join("");if(this.options.versionKey){this.codeUpdate=!1;try{if(!this.options.srcManager){for(var j in localStorage)t(j)&&localStorage.removeItem(j);this.options.srcManager={}}this.options.versionString=[this.options.packageName,
"-",b.versionKey].join("")}catch(k){}}else try{for(j=0;j<localStorage.length;j++){var g=localStorage.key(j);RegExp(this.options.packageName).test(g)&&localStorage.removeItem(g)}this.options.srcManager={}}catch(f){}return this},start:function(a){return this.chain.push(a||this.finish).start()},next:function(){for(var a=[],b=d.isArray(arguments[0])?arguments[0]:o(arguments),c=0;c<b.length;c++)"string"==typeof b[c]&&(a=a.concat(b[c].split(/\s/)));if(a.length){for(var b=[],h=[],c=0;c<a.length;c++)h.push(new d.Deferred),
b.push(this.assign(a[c],h[c]));this.chain.push(this._listenFn(b,d.when.apply(d,h)))}return this},_listenFn:function(a,b){var c=this;return function(h,e){b.done(function(){try{localStorage.setItem(c.options.packageName,JSON.stringify(c.options.srcManager))}catch(a){}e(h)}).fail(function(a){j("Phase on require:_fail()","error");for(var b in a){var e=a[b];e instanceof Error?(j(e.message,"error"),e.stack&&j(e.stack,"error")):d.isPlaneObject(e)?j(JSON.stringify(e)):j(e,"error")}});for(var n=0;n<a.length;n++)setTimeout(a[n],
0)}},assign:function(a,b){var d=this;switch(typeof a){case "string":return function(){d.load(a,function(d){j(a+" is Loaded."+(!0===d?"(timeout message)":""));b.resolve()},function(){j("fail to load script : "+a,"error");b.resolve()})};case "function":return function(b){try{a.call(),b.resolve()}catch(e){b.reject(e)}}}},load:function(a,b){function c(b){var c=location.protocol,f=location.host,k=location.port||(/^http:/.test(c)?80:443),i=null,m=(i=a.match(/(^https?:)/))?i[1]:c,r=(i=a.match(/\/\/([^\/]+)\//))?
i[1]:f,l=(i=r.match(/:(\d+)$/))?i[1]:/^http:/.test(m)?80:443;g.evalMode&&c==m&&f==r&&k==l?b?e(b):d.ajax({type:"get",url:a,dataType:"text",success:h}):(g.evalMode&&j("xjQuery Notice: "+a+" is read by tag."),n())}function h(a){e(a)}function e(e){var c=!1;f[a]=i;localStorage.setItem([i,".",a].join(""),e);try{d.globalEval(e)}catch(g){c=!0,j("Error from JSLoader : misssing eval. src = "+a)}c?n():(b||d.noop)()}function n(){function b(){!0===m&&c.removeChild(f);b.apply(this,arguments)}function e(){!0===
m&&c.removeChild(f);e.apply(this,arguments)}function d(){switch(f.readyState){case "complete":case "loaded":f.onload();break;case "error":f.onerror()}}var c=g.append||document.body||document.documentElement,f=document.createElement("script");f.src=a;f.type=g.type?g.type:"text/javascript";f.onload=b;f.onerror=e;if(g.charset)f.charset=g.charset;if(document.all)f.onreadystatechange=d;c.appendChild(f)}var k;k=null;var g=this.options,f=g.srcManager,m=g.removeOnLoad,r=g.packageName,i=g.versionString,r=
null;if(r=a.match(/\.-([\w\.-]+)-pkg/))r=r[1],a=a.replace(/\.-([\w\.-]+)-pkg/,""),i=i.replace(/^\w+-/,[r,"-"].join(""));(r=a.match(/\.-([\w\.-]+)-ver/))?(i=r[1],a=a.replace(/\.-([\w\.-]+)-ver/,""),i=i.replace(/-\w+$/,["-",i].join(""))):/\.no-version/.test(a)&&(a=a.replace(/\.no-version/,""),k=!0);if(!k&&i)if(k=[i,".",a].join(""),k=localStorage.getItem(k))j(a+" is found on localStorage!"),c(k);else{if(k=f[a])localStorage.removeItem([k,".",a].join("")),j(a+" is deleted from localStorage.");c()}else c()}}))})($,
q,p);(function(d,n,h){function a(a,d){var h;try{h=a.css(d)}catch(e){}return!h||isNaN(aft=h.replace("px"))?a[d]():parseInt(aft)}h.add("LAYOUT",{layStat:a,layCenter:function(b,d){var h=(a(b,"width")-a(d,"width"))/2,e=(a(b,"height")-a(d,"height"))/2;return{left:0<h?h:0,top:0<e?e:0}}})})($,q,p);(function(d,n,h){function a(a,b){var c=(b||n.JSCSS.Browser).toLowerCase(),g=null,a=d.extend(!0,{},a);Object.keys(a).forEach(function(b){/[A-Z]/.test(b)&&(a[b.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()})]=
a[b],delete a[b])});(g=a.opacity)&&d.extend(a,{filter:"alpha(opacity="+100*parseFloat(g)+")","-moz-opacity":g});d.each("box-shadow,border-radius,border-top-left-radius,border-top-right-radius,border-bottom-left-radius,border-bottom-rigth-radius,user-select".split(","),function(b,c){if(g=a[c]){var f={};f["-webkit-"+c]=f["-moz-"+c]=g;d.extend(a,f)}});g=a.display;"flex"==g&&("chrome"==c||"safari"==c?a.display=a["-webkit-display"]="-webkit-flex":"firefox"==c&&(a.display=a["background-moz"]="-moz-flex"));
d.each("flex,justify-content,align-items,align-content,flex-direction,flex-wrap,flex-basis".split(","),function(b,c){if(g=a[c]){var f={};f["-webkit-"+c]=f["-moz-"+c]=g;f["-ms-"+c]=f["-o-"+c]=g;d.extend(a,f)}});(g=a.transition)&&d.extend(a,{"-webkit-transition":g,"-moz-transition":g,"-ms-transition":g,"-o-transition":g});(g=a.transform)&&d.extend(a,{"-webkit-transform":g,"-moz-transform":g});if((g=a.background)&&"gradient("==g.slice(0,9)){var f=g.slice(9).replace(/\)$/,"");if(f){delete a.background;
var f=f.replace(/(rgba?\()([\d\s]+),([\d\s]+),(([\d\s]+),)?([\d\s\.]+)(\))/g,function(){var a=arguments;return a[1]+a[2]+"-"+a[3]+"-"+(5<a.length?a[5]+"-"+a[6]:a[5])+")"}),f=f.split(",").map(function(a){return d.trim(a)}),m,j=f[0],i="",l="",o="",p=4,q=[],s="",s=f[f.length-1];if("linear"==j)i=f[1].split(" "),l=f[2].split(" "),o=f[3];else if("radial"==j){m=f[1].slice(0,6);if("circle"==m||"ellips"==m)f[1].split(" "),p=5;i=f[p-3].split(" ");l=f[p-2].split(" ");o=f[p-1]}m=[];m.push(j);m.push(i.slice(0,
2).join(" "));"radial"==j&&m.push(i.slice(2,3).toString());m.push(l.slice(0,2).join(" "));"radial"==j&&m.push(l.slice(2,3).toString());m.push("from("+h.codeAdjust(o)+")");for(i=p;i<f.length-1;i++)l=f[i].indexOf(" "),m.push("color-stop("+f[i].substr(0,l)+","+h.codeAdjust(f[i].substr(l+1))+")");m.push("to("+h.codeAdjust(s)+")");a["background-webkit"]="-webkit-gradient("+m.toString()+")";m=[];i=f[1].split(" ");l=f[2].split(" ");p=i[0]==l[0]?i[1]:i[1]==l[1]?i[0]:f[1];o=f[3];for(i=4;i<f.length-1;i++)l=
f[i].indexOf(" "),q.push([h.codeAdjust(f[i].substr(l+1))," ",100*f[i].substr(0,l),"%"].join(""));s=f[f.length-1];m.push(p);m.push(h.codeAdjust(o));q.length&&m.push(q.join());m.push(h.codeAdjust(s));a["background-moz"]="-moz-"+j+"-gradient("+m.join()+")";m=[];i=f[1].split(" ");l=f[2].split(" ");p=null;p=i[0]==l[0]?i[1]:i[1]==l[1]?i[0]:f[1];o=f[3];for(i=4;i<f.length-1;i++)j=f[i].split(" "),q.push([j[1]," ",100*j[0],"%"].join(""));s=f[f.length-1];m.push(o);m.push(s);m=[];o=n.JSCSS.codeAdjust(f[3]);s=
n.JSCSS.codeAdjust(f[f.length-1]);m.push("GradientType=0");m.push(["startColorstr=",o].join(""));m.push(["endColorstr=",s].join(""));a.filter=["progid:DXImageTransform.Microsoft.gradient(",m.join(),")"].join("");"chrome"==c||"safari"==c?a.background=a["background-webkit"]:"firefox"==c&&(a.background=a["background-moz"])}}return a}function b(a){if("rgb"==a.substr(0,3))return a.replace(/-/g,",");a=d.trim(a);if(!/^#[0-9A-Fa-f]{3}$|^#[0-9A-Fa-f]{6}|^[A-Za-z]+$/.test(a))throw Error(" - illegal color code.(code = <"+
a+">)");4==a.length&&(a="#"+a[1]+a[1]+a[2]+a[2]+a[3]+a[3]);return a}a.auto=!0;h.add("JSCSS",{crossCssAuto:function(b){if("boolean"==typeof b)a.auto=b;return a.auto},crossCss:a,codeAdjust:b,codeToRgb:function(a){a=b(a).replace(/^#/,"");return[parseInt(a.slice(0,2),"16"),parseInt(a.slice(2,4),"16"),parseInt(a.slice(4,6),"16")]}});var c=h.uaAnalyze(l.navigator.userAgent);d.extend(n.JSCSS,c);d.extend(h,c);var j=d.fn.css;d.fn.css=function(){if(!1===a.auto||"string"==typeof arguments[0]&&1==arguments.length)return j.apply(this,
arguments);var b={};"string"==typeof arguments[0]?b[arguments[0]]=arguments[1]:b=arguments[0];return j.call(this,a(b))}})($,q,p);if("undefined"==typeof WebSocket&&"undefined"!=typeof MozWebSocket)window.WebSocket=MozWebSocket}})("undefined"!=typeof window);